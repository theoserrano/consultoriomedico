# ğŸ“Š Diagramas do Projeto NoSQL

Este arquivo contÃ©m diagramas em formato ASCII e Mermaid para visualizaÃ§Ã£o da arquitetura e comparaÃ§Ã£o entre MySQL e Firebase.

---

## ğŸ—ï¸ Arquitetura Geral do Sistema

```mermaid
graph TB
    subgraph "Sistema de ConsultÃ³rio MÃ©dico"
        A[Interface Web Dash] --> B{Tipo de OperaÃ§Ã£o}
        B -->|CRUD Tradicional| C[MySQL Database]
        B -->|Real-time/NoSQL| D[Firebase Firestore]
        
        C --> E[Tabelas Relacionais]
        E --> E1[tabelapaciente]
        E --> E2[tabelamedico]
        E --> E3[tabelaclinica]
        E --> E4[tabelaconsulta]
        
        D --> F[ColeÃ§Ãµes NoSQL]
        F --> F1[pacientes]
        F --> F2[medicos]
        F --> F3[clinicas]
        F --> F4[consultas]
        
        G[Script de MigraÃ§Ã£o] -.->|Copia dados| C
        G -.->|Para| D
    end
    
    style A fill:#4285f4,stroke:#333,stroke-width:2px,color:#fff
    style C fill:#00758f,stroke:#333,stroke-width:2px,color:#fff
    style D fill:#ffa000,stroke:#333,stroke-width:2px,color:#fff
```

---

## ğŸ“‹ Estrutura de Dados: MySQL vs Firebase

### MySQL (Relacional - Normalizado)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MYSQL DATABASE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚ tabelapaciente  â”‚                                            â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚  â”‚ CpfPaciente PK  â”‚â—„â”€â”€â”€â”€â”                                      â”‚
â”‚  â”‚ NomePac         â”‚     â”‚                                      â”‚
â”‚  â”‚ DataNasc        â”‚     â”‚                                      â”‚
â”‚  â”‚ Genero          â”‚     â”‚                                      â”‚
â”‚  â”‚ Telefone        â”‚     â”‚                                      â”‚
â”‚  â”‚ Email           â”‚     â”‚                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                                      â”‚
â”‚                           â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                                      â”‚
â”‚  â”‚ tabelamedico    â”‚     â”‚                                      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚                                      â”‚
â”‚  â”‚ CodMed PK       â”‚â—„â”€â”  â”‚                                      â”‚
â”‚  â”‚ NomeMed         â”‚  â”‚  â”‚                                      â”‚
â”‚  â”‚ Especialidade   â”‚  â”‚  â”‚                                      â”‚
â”‚  â”‚ Telefone        â”‚  â”‚  â”‚                                      â”‚
â”‚  â”‚ Email           â”‚  â”‚  â”‚                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚                                      â”‚
â”‚                        â”‚  â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚                                      â”‚
â”‚  â”‚ tabelaclinica   â”‚  â”‚  â”‚                                      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚                                      â”‚
â”‚  â”‚ CodCli PK       â”‚â—„â”â”‚  â”‚                                      â”‚
â”‚  â”‚ NomeCli         â”‚ â”‚â”‚  â”‚                                      â”‚
â”‚  â”‚ Endereco        â”‚ â”‚â”‚  â”‚                                      â”‚
â”‚  â”‚ Telefone        â”‚ â”‚â”‚  â”‚                                      â”‚
â”‚  â”‚ Email           â”‚ â”‚â”‚  â”‚                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚  â”‚                                      â”‚
â”‚                       â”‚â”‚  â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚  â”‚                                      â”‚
â”‚  â”‚ tabelaconsulta  â”‚ â”‚â”‚  â”‚                                      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚â”‚  â”‚                                      â”‚
â”‚  â”‚ CodCli FK       â”‚â”€â”˜â”‚  â”‚                                      â”‚
â”‚  â”‚ CodMed FK       â”‚â”€â”€â”˜  â”‚                                      â”‚
â”‚  â”‚ CpfPaciente FK  â”‚â”€â”€â”€â”€â”€â”˜                                      â”‚
â”‚  â”‚ Data_Hora       â”‚                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚                                                                  â”‚
â”‚  JOIN para consulta completa:                                   â”‚
â”‚  SELECT * FROM tabelaconsulta c                                 â”‚
â”‚    JOIN tabelapaciente p ON c.CpfPaciente = p.CpfPaciente      â”‚
â”‚    JOIN tabelamedico m ON c.CodMed = m.CodMed                  â”‚
â”‚    JOIN tabelaclinica cl ON c.CodCli = cl.CodCli;              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Firebase (NoSQL - Embedded)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FIREBASE FIRESTORE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Collection: consultas                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Document ID: auto-generated                                â”‚ â”‚
â”‚  â”‚ {                                                           â”‚ â”‚
â”‚  â”‚   "data_hora": "2024-12-02T14:30:00Z",                    â”‚ â”‚
â”‚  â”‚   "status": "realizada",                                   â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚   "paciente": {                    â”Œâ”€ Dados embedded       â”‚ â”‚
â”‚  â”‚     "cpf": "12345678900",          â”‚  (SEM JOIN!)         â”‚ â”‚
â”‚  â”‚     "nome": "JoÃ£o Silva",          â”‚                       â”‚ â”‚
â”‚  â”‚     "data_nascimento": "1990-05",  â”‚                       â”‚ â”‚
â”‚  â”‚     "genero": "M",                 â”‚                       â”‚ â”‚
â”‚  â”‚     "telefone": "(11) 98765-4321", â”‚                       â”‚ â”‚
â”‚  â”‚     "email": "joao@email.com"      â”‚                       â”‚ â”‚
â”‚  â”‚   },                               â””â”€ Tudo em 1 documento â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚   "medico": {                                              â”‚ â”‚
â”‚  â”‚     "codigo": "MED123",                                    â”‚ â”‚
â”‚  â”‚     "nome": "Dra. Maria Santos",                          â”‚ â”‚
â”‚  â”‚     "especialidade": "Cardiologia",                       â”‚ â”‚
â”‚  â”‚     "telefone": "(11) 3456-7890",                         â”‚ â”‚
â”‚  â”‚     "email": "maria@clinica.com"                          â”‚ â”‚
â”‚  â”‚   },                                                        â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚   "clinica": {                                             â”‚ â”‚
â”‚  â”‚     "codigo": "CLI456",                                    â”‚ â”‚
â”‚  â”‚     "nome": "ClÃ­nica MedCare",                            â”‚ â”‚
â”‚  â”‚     "endereco": "Rua das Flores, 123",                    â”‚ â”‚
â”‚  â”‚     "telefone": "(11) 3000-0000"                          â”‚ â”‚
â”‚  â”‚   },                                                        â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚   "observacoes": "Consulta de rotina",                    â”‚ â”‚
â”‚  â”‚   "valor": 250.00                                          â”‚ â”‚
â”‚  â”‚ }                                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  Query simples (1 operaÃ§Ã£o):                                    â”‚
â”‚  db.collection('consultas')                                     â”‚
â”‚    .where('paciente.cpf', '==', '12345678900')                 â”‚
â”‚    .get()                                                       â”‚
â”‚                                                                  â”‚
â”‚  âœ… Todos os dados jÃ¡ estÃ£o no documento!                      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Fluxo de OperaÃ§Ãµes CRUD

### CREATE (Criar Paciente)

```mermaid
sequenceDiagram
    participant U as UsuÃ¡rio
    participant W as Interface Web
    participant M as MySQL
    participant F as Firebase
    
    U->>W: Preenche formulÃ¡rio paciente
    W->>W: Valida dados
    
    par MySQL e Firebase independentes
        W->>M: INSERT INTO tabelapaciente
        M-->>W: âœ… Sucesso
    and
        W->>F: db.collection('pacientes').add()
        F-->>W: âœ… Sucesso
    end
    
    W->>U: ConfirmaÃ§Ã£o de cadastro
```

---

### READ (Buscar Consultas de um Paciente)

#### MySQL (4 JOINs)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Query MySQL                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  SELECT c.*, p.*, m.*, cl.*                            â”‚
â”‚  FROM tabelaconsulta c                                 â”‚
â”‚    JOIN tabelapaciente p                               â”‚
â”‚      ON c.CpfPaciente = p.CpfPaciente                 â”‚
â”‚    JOIN tabelamedico m                                 â”‚
â”‚      ON c.CodMed = m.CodMed                           â”‚
â”‚    JOIN tabelaclinica cl                               â”‚
â”‚      ON c.CodCli = cl.CodCli                          â”‚
â”‚  WHERE p.CpfPaciente = '12345678900'                   â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Tabela 1  â”‚â”€â”€â”€â–ºâ”‚ Tabela 2 â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚       â”‚                  â”‚                              â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚              â”‚                                          â”‚
â”‚         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚         â”‚ Tabela 3â”‚â”€â”€â”€â–ºâ”‚ Tabela 4 â”‚                   â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                         â”‚
â”‚  â±ï¸ Tempo: ~50-100ms                                   â”‚
â”‚  ğŸ”„ 4 tabelas processadas                              â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Firebase (1 query)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Query Firebase                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  db.collection('consultas')                            â”‚
â”‚    .where('paciente.cpf', '==', '12345678900')        â”‚
â”‚    .get()                                              â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   ğŸ“„ Documento completo              â”‚              â”‚
â”‚  â”‚   â”œâ”€â”€ paciente (embedded)            â”‚              â”‚
â”‚  â”‚   â”œâ”€â”€ medico (embedded)              â”‚              â”‚
â”‚  â”‚   â”œâ”€â”€ clinica (embedded)             â”‚              â”‚
â”‚  â”‚   â””â”€â”€ dados da consulta              â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                         â”‚
â”‚  â±ï¸ Tempo: ~20-40ms                                    â”‚
â”‚  ğŸ”„ 1 coleÃ§Ã£o acessada                                 â”‚
â”‚  âœ… 2x mais rÃ¡pido!                                    â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ComparaÃ§Ã£o de Performance

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           PERFORMANCE: MySQL vs Firebase                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  OperaÃ§Ã£o: Buscar consultas de 1 paciente                   â”‚
â”‚                                                              â”‚
â”‚  MySQL (4 JOINs):                                           â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ~80ms               â”‚
â”‚                                                              â”‚
â”‚  Firebase (Embedded):                                       â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ~30ms                                     â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ Vencedor: Firebase (2.6x mais rÃ¡pido)      â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  OperaÃ§Ã£o: AgregaÃ§Ã£o (Consultas por especialidade)         â”‚
â”‚                                                              â”‚
â”‚  MySQL (GROUP BY):                                          â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ~30ms                                            â”‚
â”‚                                                              â”‚
â”‚  Firebase (Processamento Client):                          â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ~200ms      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ Vencedor: MySQL (6.6x mais rÃ¡pido)         â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Arquitetura de SeguranÃ§a

```mermaid
graph LR
    subgraph "Camada de SeguranÃ§a"
        A[UsuÃ¡rio] --> B[AutenticaÃ§Ã£o]
        B --> C{Autorizado?}
        C -->|Sim| D[Acesso]
        C -->|NÃ£o| E[Negado]
    end
    
    subgraph "MySQL"
        D --> F[User/Password]
        F --> G[Grants/Permissions]
        G --> H[Dados MySQL]
    end
    
    subgraph "Firebase"
        D --> I[Firebase Auth]
        I --> J[Firestore Rules]
        J --> K[Dados Firebase]
    end
    
    style A fill:#4285f4,stroke:#333,stroke-width:2px,color:#fff
    style H fill:#00758f,stroke:#333,stroke-width:2px,color:#fff
    style K fill:#ffa000,stroke:#333,stroke-width:2px,color:#fff
```

---

## ğŸŒ Escalabilidade

### MySQL - Escalabilidade Vertical

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MySQL: Escala Vertical (Hardware Melhor)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  Servidor Inicial:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚ 4 CPU        â”‚  â†’  1.000 usuÃ¡rios                 â”‚
â”‚  â”‚ 8GB RAM      â”‚                                     â”‚
â”‚  â”‚ 100GB SSD    â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                        â”‚
â”‚  â†“ Upgrade necessÃ¡rio                                 â”‚
â”‚                                                        â”‚
â”‚  Servidor MÃ©dio:                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚ 16 CPU       â”‚  â†’  10.000 usuÃ¡rios                â”‚
â”‚  â”‚ 64GB RAM     â”‚      ğŸ’°ğŸ’° Custo 4x maior            â”‚
â”‚  â”‚ 1TB SSD      â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                        â”‚
â”‚  â†“ Upgrade necessÃ¡rio                                 â”‚
â”‚                                                        â”‚
â”‚  Servidor Grande:                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚ 64 CPU       â”‚  â†’  50.000 usuÃ¡rios                â”‚
â”‚  â”‚ 512GB RAM    â”‚      ğŸ’°ğŸ’°ğŸ’°ğŸ’°ğŸ’° Custo 20x maior      â”‚
â”‚  â”‚ 10TB SSD     â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                        â”‚
â”‚  âš ï¸ Limite: Hardware fÃ­sico                           â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Firebase - Escalabilidade Horizontal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Firebase: Escala Horizontal (Mais Servidores)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  1.000 usuÃ¡rios:                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”                                               â”‚
â”‚  â”‚ S1 â”‚  ğŸ’° Baixo custo                               â”‚
â”‚  â””â”€â”€â”€â”€â”˜                                               â”‚
â”‚                                                        â”‚
â”‚  â†“ Escala automÃ¡tica                                  â”‚
â”‚                                                        â”‚
â”‚  10.000 usuÃ¡rios:                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”                                â”‚
â”‚  â”‚ S1 â”‚ â”‚ S2 â”‚ â”‚ S3 â”‚  ğŸ’°ğŸ’° Custo 3x                 â”‚
â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                        â”‚
â”‚  â†“ Escala automÃ¡tica                                  â”‚
â”‚                                                        â”‚
â”‚  100.000 usuÃ¡rios:                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ S1 â”‚ â”‚ S2 â”‚ â”‚ S3 â”‚ â”‚... â”‚ â”‚S10 â”‚  ğŸ’°ğŸ’°ğŸ’° Custo 10xâ”‚
â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                        â”‚
â”‚  âœ… Sem limite tÃ©cnico                                â”‚
â”‚  âœ… Google gerencia tudo                              â”‚
â”‚  âœ… Custo cresce linearmente                          â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Casos de Uso Recomendados

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    QUANDO USAR CADA UM                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  âœ… USE MYSQL PARA:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“Š RelatÃ³rios complexos (GROUP BY, JOINs)          â”‚    â”‚
â”‚  â”‚ ğŸ’° TransaÃ§Ãµes financeiras (ACID completo)          â”‚    â”‚
â”‚  â”‚ ğŸ“‹ Dados altamente estruturados e relacionados     â”‚    â”‚
â”‚  â”‚ ğŸ”— Integridade referencial crÃ­tica (FKs)           â”‚    â”‚
â”‚  â”‚ ğŸ“ˆ AnÃ¡lises estatÃ­sticas avanÃ§adas                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚  Exemplo ConsultÃ³rio:                                        â”‚
â”‚    â€¢ GestÃ£o principal de consultas                           â”‚
â”‚    â€¢ RelatÃ³rios financeiros                                  â”‚
â”‚    â€¢ Folha de pagamento                                      â”‚
â”‚    â€¢ Controle de estoque                                     â”‚
â”‚    â€¢ HistÃ³rico completo de pacientes                         â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  âœ… USE FIREBASE PARA:                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ âš¡ Real-time (chat, notificaÃ§Ãµes ao vivo)          â”‚    â”‚
â”‚  â”‚ ğŸ“± Apps mobile (offline sync nativo)               â”‚    â”‚
â”‚  â”‚ ğŸš€ ProtÃ³tipos e MVPs (dev rÃ¡pido)                  â”‚    â”‚
â”‚  â”‚ ğŸŒ Escala global imprevisÃ­vel                      â”‚    â”‚
â”‚  â”‚ ğŸ“„ Dados hierÃ¡rquicos/aninhados                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚  Exemplo ConsultÃ³rio:                                        â”‚
â”‚    â€¢ Agendamento online real-time                            â”‚
â”‚    â€¢ Chat mÃ©dico-paciente                                    â”‚
â”‚    â€¢ NotificaÃ§Ãµes push                                       â”‚
â”‚    â€¢ App mobile com offline                                  â”‚
â”‚    â€¢ Dashboard pÃºblico (tempo de espera)                     â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ† Arquitetura HÃ­brida Recomendada

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SISTEMA DE CONSULTÃ“RIO MÃ‰DICO - HÃBRIDO                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚   Interface Web/App   â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                               â”‚                                      â”‚
â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                â”‚                             â”‚                       â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚      â”‚   MySQL Database  â”‚         â”‚ Firebase Firestoreâ”‚            â”‚
â”‚      â”‚   (Principal)     â”‚         â”‚  (Complementar)   â”‚            â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                â”‚                                â”‚                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚                          â”‚      â”‚                       â”‚        â”‚
â”‚   â”‚ â€¢ GestÃ£o de consultas    â”‚      â”‚ â€¢ Agendamento online â”‚        â”‚
â”‚   â”‚ â€¢ HistÃ³rico completo     â”‚      â”‚ â€¢ Chat mÃ©dico-pac.   â”‚        â”‚
â”‚   â”‚ â€¢ RelatÃ³rios financeiros â”‚      â”‚ â€¢ NotificaÃ§Ãµes push  â”‚        â”‚
â”‚   â”‚ â€¢ Folha de pagamento     â”‚      â”‚ â€¢ App mobile         â”‚        â”‚
â”‚   â”‚ â€¢ Controle de estoque    â”‚      â”‚ â€¢ Dashboard pÃºblico  â”‚        â”‚
â”‚   â”‚ â€¢ Integridade de dados   â”‚      â”‚ â€¢ Real-time updates  â”‚        â”‚
â”‚   â”‚                          â”‚      â”‚                       â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                      â”‚
â”‚         ğŸ”„ SincronizaÃ§Ã£o opcional entre os bancos                   â”‚
â”‚         (Script de migraÃ§Ã£o disponÃ­vel)                              â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Como Visualizar os Diagramas

### Diagramas Mermaid

Os diagramas com sintaxe `mermaid` podem ser visualizados em:

1. **GitHub**: Renderiza automaticamente
2. **VS Code**: ExtensÃ£o "Markdown Preview Mermaid Support"
3. **Online**: https://mermaid.live/

### Diagramas ASCII

Os diagramas ASCII sÃ£o visualizados diretamente em qualquer editor de texto ou markdown viewer.

---

## ğŸ¨ Exportar para ApresentaÃ§Ã£o

Para usar esses diagramas em apresentaÃ§Ãµes:

1. **Screenshot**: Capture os diagramas renderizados
2. **Mermaid PNG**: Use https://mermaid.live/ e exporte como PNG
3. **ASCII to Image**: Use https://asciiflow.com/ para editar e exportar
4. **PowerPoint/Google Slides**: Cole as imagens exportadas

---

**Ãšltima atualizaÃ§Ã£o**: Dezembro 2024  
**Projeto**: IntegraÃ§Ã£o NoSQL - Sistema de ConsultÃ³rio MÃ©dico
